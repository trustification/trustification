release: ${IMAGE_TAG}
trustImage: ${BACKEND_IMAGE}
uiImage: ${FRONTEND_IMAGE}
guacImage: ${GUAC_IMAGE}
testsImage: ${INTEGRATION_TESTS_IMAGE}
domain: ${DOMAIN}
createRoutes: false
replicas: ${{REPLICAS}}
imagePullPolicy: Always
region: ${AWS_REGION}
enableDocs: false
enableTests: false
enableMonitoring: false
config:
  name: ${CONFIG_NAME}
spog:
  branding: false
  crdaUrl: ${CRDA_URL}
  ui:
    customize: true
    resources: ${{SPOG_UI_RESOURCES}}
  api:
    resources: ${{SPOG_API_RESOURCES}}
    logLevel: ${LOG_LEVEL}
bombastic:
  bucket: ${BOMBASTIC_STORAGE_BUCKET}
  credentials: ${BOMBASTIC_AWS_SECRET_NAME}
  indexMode: file
  collector:
    queue: ${BOMBASTIC_INDEXER_GUAC_TOPIC}
  indexer:
    reindex: false
    topics:
      stored: ${BOMBASTIC_INDEXER_STORED_TOPIC}
      indexed: ${BOMBASTIC_INDEXER_INDEXED_TOPIC}
      failed: ${BOMBASTIC_INDEXER_FAILED_TOPIC}
    resources: ${{BOMBASTIC_INDEXER_RESOURCES}}
    logLevel: ${LOG_LEVEL}
  walker:
    enable: true
    source: "https://access.redhat.com/security/data/sbom/beta/"
    signingKey: "https://access.redhat.com/security/data/97f5eac4.txt#77E79ABE93673533ED09EBE2DCE3823597F5EAC4"
    resources: ${{BOMBASTIC_WALKER_RESOURCES}}
    logLevel: ${LOG_LEVEL}
  api:
    resources: ${{BOMBASTIC_API_RESOURCES}}
    logLevel: ${LOG_LEVEL}
v11y:
  enabled: true
  bucket: ${V11Y_STORAGE_BUCKET}
  credentials: ${V11Y_AWS_SECRET_NAME}
  indexMode: file
  api:
    resources: ${{V11Y_API_RESOURCES}}
    logLevel: ${LOG_LEVEL}
  indexer:
    reindex: false
    topics:
      stored: ${V11Y_INDEXER_STORED_TOPIC}
      indexed: ${V11Y_INDEXER_INDEXED_TOPIC}
      failed: ${V11Y_INDEXER_FAILED_TOPIC}
    resources: ${{V11Y_INDEXER_RESOURCES}}
    logLevel: ${LOG_LEVEL}
  walker:
    enable: true
    resources: ${{V11Y_WALKER_RESOURCES}}
collectorist:
  enabled: true
  api:
    resources: ${{COLLECTORIST_RESOURCES}}
    logLevel: ${LOG_LEVEL}
exhort:
  enabled: true
  api:
    resources: ${{EXHORT_API_RESOURCES}}
    logLevel: ${LOG_LEVEL}
collector:
  snyk:
    enabled: true
    credentials: snyk-collector-secret
    resources: ${{COLLECTOR_SNYK_RESOURCES}}
    logLevel: ${LOG_LEVEL}
  osv:
    enabled: true
    resources: ${{COLLECTOR_OSV_RESOURCES}}
    logLevel: ${LOG_LEVEL}
  nvd:
    enabled: true
    credentials: nvd-collector-secret
    resources: ${{COLLECTOR_NVD_RESOURCES}}
    logLevel: ${LOG_LEVEL}
vexination:
  bucket: ${VEXINATION_STORAGE_BUCKET}
  credentials: ${VEXINATION_AWS_SECRET_NAME}
  indexMode: file
  walker:
    enabled: true
    source: https://www.redhat.com/.well-known/csaf/provider-metadata.json
    ignore: https://access.redhat.com/security/data/csaf/v2/advisories/
    logLevel: ${LOG_LEVEL}
  indexer:
    reindex: false
    topics:
      stored: ${VEXINATION_INDEXER_STORED_TOPIC}
      indexed: ${VEXINATION_INDEXER_INDEXED_TOPIC}
      failed: ${VEXINATION_INDEXER_FAILED_TOPIC}
    resources: ${{VEXINATION_INDEXER_RESOURCES}}
    logLevel: ${LOG_LEVEL}
  api:
    resources: ${{VEXINATION_API_RESOURCES}}
    logLevel: ${LOG_LEVEL}
keycloak:
  enabled: false
guac:
  enabled: true
  graphql:
    debug: false
oidcClients:
  frontend:
    issuerUrl: ${ISSUER_URL}
    scopes: "openid id.username"
    clientId:
      value: trusted-content-frontend
  walker:
    issuerUrl: ${ISSUER_URL}
    scopes: "openid id.username"
    clientId:
      value: trusted-content-api
    clientSecret:
      valueFrom:
        secretKeyRef:
          name: ${OIDC_PROVIDER_CLIENT_SECRET_NAME}
          key: ${OIDC_PROVIDER_CLIENT_SECRET_KEY}
  testingManager:
    issuerUrl: ${ISSUER_URL}
    scopes: "openid id.username"
    clientId:
      value: trusted-content-api
  testingUser:
    issuerUrl: ${ISSUER_URL}
    scopes: "openid id.username"
    clientId:
      value: trusted-content-api
